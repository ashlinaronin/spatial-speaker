<html>
  <head>
    <title>spatial speaker: test harness</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
  </head>
  <body>
    <h1>spatial speaker: test harness</h1>
    <script type="module">
      // don't try this at home, kids
      // start with hardcoded, then eventually pull from db via api

      const ashlinmeClientIds = [
        "3371cecd-bc29-4144-808d-6de246b7336b",
        "83ddc287-c316-446b-ab65-b6941ede36d7",
        "2b0c44d2-b585-48af-b9fc-effa341b0373",
        "e781ea5f-765f-40b9-906c-6d77cd011199",
        "4606438c-ccee-4d6c-9832-b54eb87dae0f",
        "d0b50244-eb1e-4c6f-9d83-1e12c3c894a1",
        "e72058ee-41f9-4f49-b2ec-ff3f55f3daf8",
        "bee20c62-5448-4de5-9583-5b0f09b888d9",
        "a5e0f43a-6ef7-48cb-998d-429631a48408",
        "a62caa30-d0d6-48d1-ac4d-202165e7648c",
        "508ce07c-70b5-400c-b331-ca01e5497012",
        "e8f24dd6-a2bd-41e8-a62b-43e000dab9b8",
        "8bfdcbab-ed32-4cca-baa2-0c504153d5b8",
        "ae6f567e-0d1a-4710-ac3b-9a2e89fdef3f",
        "19cd073d-ca85-4fe0-a9a0-0c34806be806",
        "7d794e49-2754-46c0-afe0-2be1357d6c5a",
      ];

      const localClientIds = [
        "1457effa-d696-43bc-acc5-83a042b42018",
        "638d5dc7-5fda-469f-9d69-69db3f9f8ddb",
        "46d60bfd-33b2-4ba2-a317-b65c4b59542e",
        "7e95aa39-73b0-4970-8823-ff397acc3598",
        "188a78e9-d99d-4938-981a-1c9f8f212697",
        "b3ab5768-2abb-4b1a-a416-50bf0548d768",
        "52217880-ff94-4eb2-8c7f-f31d5e641d2d",
        "1ee7392a-ab84-4ec5-9e01-278afdc79d32",
        "9497eb74-fb1d-4253-9afc-6b77f55e0909",
        "ac36a9d2-497b-4337-b553-fbd5a6831298",
        "6b8de4c1-1343-4aae-82cd-3d347f3666cd",
        "1d7fbcd1-b4ca-4047-a2f8-4e4f6b22aba4",
        "ad39b0e9-b226-4bb4-964b-88ea4718bec6",
        "05a393a1-1e8c-4b82-9b98-f6f6637085e1",
        "6e85509a-74b6-4077-9eb6-34c50855112f",
        "f265a2fc-5be9-4f13-8871-694cc57e205c",
      ];

      const clientIds =
        window.location.host === "ashlin.me"
          ? ashlinmeClientIds
          : localClientIds;

      const createIframe = (clientId) => {
        const iframe = document.createElement("iframe");
        iframe.src = `sequencer.html?clientId=${clientId}`;

        // browser doesn't read this as a real user action, so it doesn't work to start tone :()
        // iframe.onload = () => {
        //   const startButton =
        //     iframe.contentWindow.document.getElementById("start");
        //   startButton.click();
        // };
        document.body.appendChild(iframe);
      };

      clientIds.forEach((clientId) => {
        createIframe(clientId);
      });
    </script>
    <iframe
      src="viz-accelerometer-2d.html"
      frameborder="0"
      width="100%"
      height="250"
    ></iframe>

    <iframe src="controller.html" frameborder="0"></iframe>
  </body>
</html>
